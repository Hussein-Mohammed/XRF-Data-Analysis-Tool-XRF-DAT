@page
@model IndexModel
@{
    ViewData["Title"] = "Upload XRF Tabular Data to be Analysed";
}

<h3 style="text-align:center; font-style:italic">@ViewData["Title"]</h3>
<br />
<hr />

<h3 style="text-align:center">Select Measurements</h3>
<br />
<div class="row">
    <div class="col-3"></div>
    <div class="col-6">
        <form method="post" asp-page-handler="Upload" enctype="multipart/form-data">
            <div>
                <input type="file" name="files" multiple />
            </div>
            <br />
            <div>
                <button type="submit" style="font-style:normal;font-size:25px"> Upload and Validate</button>
            </div>
        </form>
    </div>
    <div class="col-3"></div>
</div>

@if (ViewData["Message"] != null)
{
    <div class="alert alert-danger" style="margin-top:20px">
        @ViewData["Message"]
    </div>
}

<br />
<hr />

<p style="text-align:center">
    This software tool has been developed by <a href="http://uhh.de/hussein-adnan-mohammed"> Dr. Hussein Mohammed</a>
    as a part of sub-project RFA05: <a href="https://www.written-artefacts.uni-hamburg.de/research/field-a/rfa05.html">
        Pattern Recognition in 2D Data from Digitised Images and Advanced Aquisition Techniques.
    </a>
</p>

<br />
<p>
    The main goal of this software tool is to analyse tabular data generated by X-Ray Fluorescence spectrometers within the scope of
    analysing writing, painting, and supports materials of written artefacts. The main tasks achieved by this software tool are:
    <ul>
        <li>
            Process the generated tabular data according to user-defined settings for manual inspection
        </li>
        <li>
            Generate a table to be used for scatter plots
        </li>
        <li>
            Calculate distances between different measurements using euclidean distance measure (L2)
        </li>
    </ul>
</p>

<h3 style="font-style:normal">What is new in this version?</h3>
<p>
    This version allows you to do the following:
</p>
<ul>
    <li>
        Process multiple measurements per source per folio based on user selection.
    </li>
    <li>
        Calculate the average, max and min values of multiple measurements from the same folio and source.
    </li>
    <li>
        Specify energy ranges to be included and excluded from the spectrum.
    </li>
</ul>

<hr />
<div style="border-style:solid; border-color:blue; border-width:medium; border-radius:10px; padding:3px">
    <h3 style="text-align:center">Guidelines:</h3>
    <ol>
        <li>
            You can add XRF measurements to be analysed by simply uploading the tabular data generated by XRF spectrometers, such as the one
            in this example:
            <div class="row">
                <div class="col-12">
                    <img src="~/images/XRF.png" class="img-responsive" style="border:solid; width: 95%" />
                </div>
            </div>
        </li>
        <li>
            Only files with the ".csv" extension will be considered by this application. Nevertheless, this application can read files with both English
            and German formats (Decimal symbol and List separator).
        </li>
        <li>
            File names need to start with the folio id followed by the measurement source followed by the measurement id as follows: "Folio_Source_Measurement_***.csv",
            where "***" can be any string (or simply nothing). Examples of valid file names: ("f1r_Ink_2.csv": Folio:f1r, Source:Ink, Measurement:2),
            ("manu3r15_Support_External.csv": Folio:manu3r15, Source:Support, Measurement:External).
        </li>
        <li>
            If the option "Subtract support measurements" is selected by the user, measurements from the following sources will be subtracted
            from the other measurements within the same folio:"Paper", "Papier", "Support", "Parchment", "Papyrus", Pergament", "parch", "pap" and "p"
        </li>
        <li>
            Letter case will be ignored in file names and in the table content. This application is designed to be case
            insensitive for practicality reasons.
        </li>
    </ol>
</div>
